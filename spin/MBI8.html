<!DOCTYPE html>
<!-- saved from url=(0030)https://mariongong.com/mbi8-my -->
<html style="--tg-viewport-height: 100vh; --tg-viewport-stable-height: 100vh;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>MBI8</title>

    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link href="./MBI8_files/css2" rel="stylesheet">

    <meta name="_token" content="F3SobszfasWQRrP5NaNQ6Wgg3cRkG31WJVefQjC2">

            <link rel="shortcut icon" href="https://lsbucket-prod.s3.amazonaws.com/tenant_mbi8-my/settings/7iUOOv8jhcNFx6znvCPrV4mTf27nlVa8CNCpYPTX.webp">
    
    <link href="./MBI8_files/iconfont.css" rel="stylesheet">
    <link href="./MBI8_files/perfect-scrollbar.css" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./MBI8_files/toastify.min.css">

    <link href="./MBI8_files/app.css" rel="stylesheet">

    <link href="./MBI8_files/sweetalert2.min.css" rel="stylesheet">

    <link rel="stylesheet" href="./MBI8_files/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer">

    <style>
        #invalid-button {
            position: absolute;
            top: -30px;
            right: 40px;
            cursor: pointer;
            z-index: 9999;
            background: none;
            border: 2px solid #fff;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            color: #fff;
            display: inline-flex;
            justify-content: center;
            align-items: center;
        }

        @media screen and (min-width: 992px) {
            #invalid-button {
                top: 50px;
                right: 20px;
            }
        }
    </style>

    <style>
body {
    background-image: url("/assets/images/background.webp");
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    font-family: "IBM Plex Sans", sans-serif;
    height: 100vh;
    background-attachment: fixed;
}
</style>

    <script async="" src="./MBI8_files/clarity.js.下載"></script><script async="" src="./MBI8_files/nz1oja2w5f"></script><script src="./MBI8_files/telegram-web-app.js.下載"></script>

    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "nz1oja2w5f");
    </script>
</head>
<body style="" class="loaded"><div><div class="loader-wrapper"><div class="loader">Loading...</div></div></div>

    <script src="./MBI8_files/spinner.js.下載"></script>

    

    <div class="main-wrapper" id="app">
        <nav class="navbar navbar-expand-lg header-navbar">
    <div class="container">
                    <a href="https://mbi8myr.net/" class="navbar-brand">
                <img src="./MBI8_files/mrwira.png" alt="Logo" width="90">
            </a>
                <ul class="mb-0 ms-auto ps-0 order-lg-1 ms-lg-4">
                    </ul>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fa-solid fa-bars fs-4 align-middle text-white"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0 column-gap-4 p-3 p-lg-0 mt-2 mt-lg-0 row-gap-2 row-gap-lg-0 align-items-lg-center">
                <li class="nav-item">
                    <a class="nav-link fs-5 fw-medium active" aria-current="page" href="https://mariongong.com/mbi8-my">Laman Utama</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link fs-5 fw-medium " href="https://mariongong.com/mbi8-my/shop">Kedai</a>
                </li>
            </ul>
        </div>
    </div>
</nav>


        <div class="page-wrapper">
            <div class="page-content">
                
<section class="section-game section-lucky-spin">
    <div class="lucky-spin-text-container text-center position-relative isolate">
        <div class="confetti-bg" style="background-position-y: 321px;"></div>
        <img class="lucky-spin-text d-inline-block w-100 h-auto d-none d-md-inline-block" src="./MBI8_files/lucky-spin.webp" alt="Lucky Spin Text Image">
        <img class="lucky-spin-text d-inline-block w-100 h-auto d-md-none px-4" src="./MBI8_files/lucky-spin-mobile.webp" alt="Lucky Spin Text Image">
    </div>

    <div class="row align-items-center">
        <div class="col-12 col-lg-7 col-xl col-wheel px-0 px-md-3 z-1 position-relative isolate mb-md-5 mb-lg-0">
            <div class="tokens-balance">
                <img src="./MBI8_files/lucky-token.svg" alt="Lucky Token" class="lucky-token-image d-inline-block"> Baki Token: <span class="number">0</span>
            </div>

            <div id="wheel-container" class="col-wheel-wrapper my-2">
                <img src="./MBI8_files/Gold_ring.webp" alt="Spin Board Ring" class="spin-board-ring">
                <img src="./MBI8_files/Platform.webp" alt="Spin Board Stage" class="spin-board-stage">
                <img id="spin-border" src="./MBI8_files/pK86c1s0k3PylA1QqQcQLlLAxD7T0ieGmjHl5hAu.png" alt="Border">

                <canvas id="canvas" width="700" height="700" data-responsiveminwidth="400" data-responsivescaleheight="true" style="z-index: 1; width: 100%; height: auto;">
                    Canvas not supported, use another browser.
                </canvas>

                <img id="pointer" src="./MBI8_files/e3JAk9bLQcV5jOLvfAeEfR1TXAHGx2IbzdjaeesV.png" alt="V" width="50">
                <div class="btn-spin-wrapper">
                    <div class="continuous-animation continuous-wave wave-1 d-none"></div>
                    <div class="continuous-animation continuous-wave wave-2 d-none"></div>
                    <div class="continuous-animation continuous-wave wave-3 d-none"></div>
                    <!-- <button id="btn-spin">
                        <span class="btn-spin-border"></span>
                        <span class="btn-spin-bg"></span>
                        <span class="btn-spin-text">SPIN NOW</span>
                    </button> -->
                    <img src="./MBI8_files/btn-pointer.svg" alt="Button Pointer" class="continuous-animation continuous-pointer d-none">
                    <img id="btn-spin" src="./MBI8_files/B10lE8Kvr6c63z5CeTlj9VR5Z0XxbsQSYfazxSC6.png" alt="Spin Button" class="w-100 h-auto rounded-circle overflow-hidden cursor-pointer">
                </div>
            </div>

            <div class="multi-games-container d-flex align-items-center justify-content-center flex-wrap row-gap-1 column-gap-2 mt-1 mb-2">
                                    <input type="radio" id="in-a-row-10" name="in-a-row" value="10" class="d-none">

                    <button class="multi-games-button multi-games-button-10 text-center">
                        <label for="in-a-row-10">
                            <span class="multi-games-button-text">10 Spins</span>
                            100 Token
                        </label>
                    </button>
                                    <input type="radio" id="in-a-row-50" name="in-a-row" value="50" class="d-none">

                    <button class="multi-games-button multi-games-button-50 text-center">
                        <label for="in-a-row-50">
                            <span class="multi-games-button-text">50 Spins</span>
                            500 Token
                        </label>
                    </button>
                                    <input type="radio" id="in-a-row-100" name="in-a-row" value="100" class="d-none">

                    <button class="multi-games-button multi-games-button-100 text-center">
                        <label for="in-a-row-100">
                            <span class="multi-games-button-text">100 Spins</span>
                            1000 Token
                        </label>
                    </button>
                            </div>

            <div class="tokens-cost">
                <span class="number">10</span> Token / setiap pusingan
            </div>
        </div>

        <div class="col-12 col-lg-5 board-column mt-4 mt-md-5 mt-lg-0">
            <div class="col-reward board-border mt-4">
                <div class="board-image-title-container">
                    <img src="./MBI8_files/prize-list.webp" alt="Prize List Title" class="board-image-title w-100 h-auto">
                </div>


                                    <div class="top-rewards">
                                                    <div class="top-reward top-reward-1">
                                                                    <div class="reward-image-wrapper">
                                        <img src="./MBI8_files/hpE2FCEKwq5v5aJvgMwuCHUSpo4nAQP0ExKxD26T.png" alt="Reward Image" class="reward-image mw-100">
                                    </div>
                                
                                <div class="reward-content">
                                    <h4 class="reward-name">IPhone 15 Pro Max</h4>
                                    <p class="reward-description">16 GB RAM / 512 GB</p>
                                </div>

                                <img src="./MBI8_files/badge-1.png" class="reward-badge mw-100" width="38">
                            </div>
                                                    <div class="top-reward top-reward-2">
                                                                    <div class="reward-image-wrapper">
                                        <img src="./MBI8_files/JFS9aZQSwqlAdmL1IcwWGzH4ETNtvKWqBEhsEzhN.png" alt="Reward Image" class="reward-image mw-100">
                                    </div>
                                
                                <div class="reward-content">
                                    <h4 class="reward-name">Apple Watch Series 9</h4>
                                    <p class="reward-description">RM1899</p>
                                </div>

                                <img src="./MBI8_files/badge-2.png" class="reward-badge mw-100" width="38">
                            </div>
                                                    <div class="top-reward top-reward-3">
                                                                    <div class="reward-image-wrapper">
                                        <img src="./MBI8_files/doWq2GCKUx4eYASExw5jzq42EAbWX0fcjDn5AhkG.png" alt="Reward Image" class="reward-image mw-100">
                                    </div>
                                
                                <div class="reward-content">
                                    <h4 class="reward-name">Samsumg Earpod</h4>
                                    <p class="reward-description">RM899</p>
                                </div>

                                <img src="./MBI8_files/badge-3.png" class="reward-badge mw-100" width="38">
                            </div>
                                            </div>
                
                                    <div class="other-rewards">
                                                    <div class="other-reward border">
                                                                    <img src="./MBI8_files/2mHEsTefGMTmutSEIld3Nd2FcC3TtasP0rJgHrs1.png" alt="Reward Image" class="reward-image mw-100">
                                
                                <div class="reward-content">
                                    <h4 class="reward-name">Free Credit</h4>
                                    <p class="reward-description">RM100 ~ RM300</p>
                                </div>
                            </div>
                                                    <div class="other-reward border">
                                                                    <img src="./MBI8_files/rYH8Xjm59YjzjCcAuqZKOO8KAGYmKl5mwQULtSdd.png" alt="Reward Image" class="reward-image mw-100">
                                
                                <div class="reward-content">
                                    <h4 class="reward-name">Free Credit</h4>
                                    <p class="reward-description">RM 30 ~ RM 100</p>
                                </div>
                            </div>
                                                    <div class="other-reward border">
                                                                    <img src="./MBI8_files/ebd3ivjyIKOVWEuuYpQ7UZ2ZN4RM79M1YMFzTw70.png" alt="Reward Image" class="reward-image mw-100">
                                
                                <div class="reward-content">
                                    <h4 class="reward-name">Free Credit</h4>
                                    <p class="reward-description">RM 10~ RM 30</p>
                                </div>
                            </div>
                                                    <div class="other-reward border">
                                                                    <img src="./MBI8_files/iL232WyjLzRKjg9tDHOtc1rhi8Jo3dIg0NBTrwOP.png" alt="Reward Image" class="reward-image mw-100">
                                
                                <div class="reward-content">
                                    <h4 class="reward-name">Free Credit</h4>
                                    <p class="reward-description">RM 3 ~ RM 10</p>
                                </div>
                            </div>
                                                    <div class="other-reward border">
                                                                    <img src="./MBI8_files/w1wIpTKJouJYA7Bn2pZ9SrfnVfqce8EAdLU7tBnm.png" alt="Reward Image" class="reward-image mw-100">
                                
                                <div class="reward-content">
                                    <h4 class="reward-name">Free Credit</h4>
                                    <p class="reward-description">RM 0.5 ~ RM 3.00</p>
                                </div>
                            </div>
                                            </div>
                            </div>
        </div>

        <div class="col-12 order-xl-first board-column mt-4 mt-lg-5 pt-lg-5 mt-xl-0 pt-xl-0">
            <div class="board-border mt-4">
                <section class="section-winner">
                    <div class="winner-board">
                        <div class="board-image-title-container">
                            <img src="./MBI8_files/winner.webp" alt="Winner Title" class="board-image-title w-100 h-auto">
                        </div>

                        <div class="winner-tab-container">
                            <div class="winner-tab-wrapper mt-3">
                                <ul class="nav nav-tabs" id="myTab" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <a class="nav-link active" id="home-tab" data-bs-toggle="tab" href="https://mariongong.com/mbi8-my#winning-list" role="tab" aria-controls="winning-list" aria-selected="true">Senarai Pemenang</a>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <a class="nav-link" id="profile-tab" data-bs-toggle="tab" href="https://mariongong.com/mbi8-my#winning-history" role="tab" aria-controls="winning-history" aria-selected="false" tabindex="-1">Rekod Kemenangan</a>
                                    </li>
                                </ul>

                                <div class="tab-content">
                                    <div class="tab-pane fade show active winning-list" id="winning-list" role="tabpanel" aria-labelledby="winning-list">
                                        <div class="wrapper winner-list">
                                                                                                                                                <div class="winner-container">
                                                        <div class="winner-details">
                                                            <h5 class="date">2024-09-23</h5>
                                                            <h5 class="name">WAN*****</h5>
                                                        </div>

                                                        <div class="reward-details">
                                                            <h5 class="name">Free Credit 0.5</h5>
                                                        </div>
                                                    </div>
                                                                                                    <div class="winner-container">
                                                        <div class="winner-details">
                                                            <h5 class="date">2024-09-23</h5>
                                                            <h5 class="name">Abd*****</h5>
                                                        </div>

                                                        <div class="reward-details">
                                                            <h5 class="name">Free Credit 1.7</h5>
                                                        </div>
                                                    </div>
                                                                                                    <div class="winner-container">
                                                        <div class="winner-details">
                                                            <h5 class="date">2024-09-23</h5>
                                                            <h5 class="name">Moh*****</h5>
                                                        </div>

                                                        <div class="reward-details">
                                                            <h5 class="name">Free Credit 1.2</h5>
                                                        </div>
                                                    </div>
                                                                                                    <div class="winner-container">
                                                        <div class="winner-details">
                                                            <h5 class="date">2024-09-23</h5>
                                                            <h5 class="name">Jag*****</h5>
                                                        </div>

                                                        <div class="reward-details">
                                                            <h5 class="name">Free Credit 3</h5>
                                                        </div>
                                                    </div>
                                                                                                    <div class="winner-container">
                                                        <div class="winner-details">
                                                            <h5 class="date">2024-09-23</h5>
                                                            <h5 class="name">MIC*****</h5>
                                                        </div>

                                                        <div class="reward-details">
                                                            <h5 class="name">Free Credit 3.4</h5>
                                                        </div>
                                                    </div>
                                                                                                    <div class="winner-container">
                                                        <div class="winner-details">
                                                            <h5 class="date">2024-09-23</h5>
                                                            <h5 class="name">lau*****</h5>
                                                        </div>

                                                        <div class="reward-details">
                                                            <h5 class="name">Free Credit 1.6</h5>
                                                        </div>
                                                    </div>
                                                                                                    <div class="winner-container">
                                                        <div class="winner-details">
                                                            <h5 class="date">2024-09-23</h5>
                                                            <h5 class="name">Muh*****</h5>
                                                        </div>

                                                        <div class="reward-details">
                                                            <h5 class="name">Free Credit 3</h5>
                                                        </div>
                                                    </div>
                                                                                                    <div class="winner-container">
                                                        <div class="winner-details">
                                                            <h5 class="date">2024-09-23</h5>
                                                            <h5 class="name">Lee*****</h5>
                                                        </div>

                                                        <div class="reward-details">
                                                            <h5 class="name">Free Credit 1.3</h5>
                                                        </div>
                                                    </div>
                                                                                                    <div class="winner-container">
                                                        <div class="winner-details">
                                                            <h5 class="date">2024-09-23</h5>
                                                            <h5 class="name">Lim*****</h5>
                                                        </div>

                                                        <div class="reward-details">
                                                            <h5 class="name">Free Credit 1.2</h5>
                                                        </div>
                                                    </div>
                                                                                                                                    </div>
                                    </div>

                                    <div class="tab-pane fade winning-history" id="winning-history" role="tabpanel" aria-labelledby="winning-history">
                                        <div class="wrapper">
                                                                                            <p>Tiada rekod tersedia</p>
                                                                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</section>

<section class="section-tnc">
    <div class="container mx-auto">
        <div class="title-container">
            <h2 class="title">Terma &amp; Syarat</h2>
        </div>

        <div class="tnc">
            <p class="p2"><strong>⚠️ Credit cannot mixed with other deposits and bonuses.</strong><br><strong>⚠️ 1 Member / 1 ID / 1 Name can only participate in this Lucky Spin Event.</strong><br><strong>⚠️ Only slot games are allowed.</strong><br><strong>⚠️ The name on the bank account must match the registered name. If they do not match or if the bank account number is incorrect, all winnings will be forfeited.</strong></p>
        </div>
    </div>
</section>

<!-- Result Popup -->
<div class="modal top fade" id="resultModal" tabindex="-1" aria-labelledby="resultModalLabel" aria-hidden="true" data-mdb-backdrop="true" data-mdb-keyboard="true">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content position-relative isolate">
            <img src="./MBI8_files/sun-rise.webp" alt="sun-rise" class="shine-bg">
            <div class="modal-body">
                <div class="container px-0">
                    <div class="text-center mb-3 mb-xl-5 pb-xl-5">
                        <img src="./MBI8_files/lucky-results.webp" alt="Lucky Results" class="w-100 h-auto result-title-image d-inline-block px-5">
                    </div>
                    <div class="result-container px-3 py-3 mx-auto mb-3">
                        <div class="row justify-content-center result-row row-gap-4"></div>
                    </div>
                    <div class="result-description-container font-ibm text-white text-center fs-5 mb-3">
                        <p></p>
                    </div>
                    <div class="text-center result-button-container"></div>
                </div>
            </div>
        </div>
    </div>
</div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="playerInvalidModal" tabindex="-1" aria-labelledby="playerInvalidModalLabel" style="display: none;" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body text-center py-4">
                    <h2 class="mb-3">Belum diautentikasi</h2>

                    <p class="mb-3">Sila log masuk dari MBI8 terlebih dahulu, kemudian kembali ke sini. Terima kasih</p>

                                            <a href="https://mrwira.com/" class="btn btn-brown rounded-pill px-4">Log Masuk Sekarang</a>
                                    </div>
            </div>
        </div>
    </div>

    <div class="floating-menu">
        <a href="https://mariongong.com/mbi8-my/shop" class="floating-button shop">
            <img src="./MBI8_files/shop-floating.gif" alt="Shop">
        </a>

                    <a href="https://mariongong.com/mbi8-my" class="floating-button lucky-spin">
                <img src="./MBI8_files/lucky-spin-floating.gif" alt="Lucky Spin">
            </a>
        
                    <a href="https://mariongong.com/mbi8-my/lucky-draw" class="floating-button lucky-draw">
                <img src="./MBI8_files/lucky-draw-v2-floating.gif" alt="Lucky Draw">
            </a>
        
                    <a href="https://mariongong.com/mbi8-my/lucky-smash" class="floating-button lucky-smash">
                <img src="./MBI8_files/lucky-smash-floating.gif" alt="Lucky Smash">
            </a>
        
        

                    <a href="https://mbiwallet.com/chatroom" class="floating-button live-chat" target="_blank">
                <img src="./MBI8_files/live-chat.gif" alt="Live Chat">
            </a>
            </div>

    <script src="./MBI8_files/app.js.下載"></script>
    <script src="./MBI8_files/feather.min.js.下載"></script>
    <script src="./MBI8_files/perfect-scrollbar.min.js.下載"></script>

    <script src="./MBI8_files/sweetalert2.min.js.下載"></script>
    <script src="./MBI8_files/sweet-alert.js.下載"></script>

    <script src="./MBI8_files/Winwheel.js.下載"></script>
<script type="text/javascript" src="./MBI8_files/toastify-js"></script>
<script src="./MBI8_files/gsap.min.js.下載"></script>
<script src="./MBI8_files/ScrollTrigger.min.js.下載"></script>

    <script src="./MBI8_files/template.js.下載"></script>

    <script>
        const isAuthenticated = false;

        $(document).ready(function () {
            window.Telegram.WebApp.expand();
            window.Telegram.WebApp.onEvent('viewportChanged', function() {
                const viewportHeight = window.Telegram.WebApp.viewportHeight;
                document.body.style.height = `${viewportHeight}px`;
            });

            if (!isAuthenticated) {
                $("#playerInvalidModal").modal('show');
            }

            $('#invalid-button').click(function(){
                $("#playerInvalidModal").modal($('#playerInvalidModal').hasClass('show') ? 'hide' : 'show');
            });
        });
    </script>

    <script>
    let theWheel;
    let responseData;
    let gameCount = 1;
    const tokenRequired = 10;
    const tokenWallet = 0;

    $(document).ready(function() {
        initWheel();
        listenForWinnerAddedEvent();

        $('#btn-spin').on('click', handleClick);

        if($('.confetti-bg').length) {
            const imagewidth = 6069;
            const imageheight = 3215;
            const confettiwidth = $('.confetti-bg').width();
            const animateconfettiheight = confettiwidth / imagewidth * imageheight;

            gsap.to('.confetti-bg', {
                backgroundPositionY: animateconfettiheight + 'px',
                duration: $(window).width() < 768 ? 3 : 5,
                ease: 'linear',
                repeat: -1,
            })
        }

        $('input[name="in-a-row"]').on('click', function () {
            if($(this).attr('isCurrentChecked') == 'true'){
                $(this).prop('checked', false)
            } else {
                $('input[name="in-a-row"]').attr('isCurrentChecked', false);
            }
            $(this).attr('isCurrentChecked', $(this).prop('checked'));

            if($('input[name="in-a-row"][isCurrentChecked="true"]').length) {
                $('.continuous-animation').removeClass('d-none');
            }
            else {
                $('.continuous-animation').addClass('d-none');
            }
        })
    })

    function handleClick() {
        if (!isAuthenticated) {
            $("#playerInvalidModal").modal('show');
            return;
        }

        if (+tokenWallet < +tokenRequired) {
            showSwal('error', {
                title: "Token Tidak Mencukupi",
                text: "Anda tidak mempunyai token yang mencukupi untuk memutar. Sila cuba lagi kemudian.",
            });
            return;
        }

        $('#btn-spin').off('click', handleClick);
        setReward();
    }

    function initWheel() {
        const rewards = [{"name":"IPhone 15 Pro Max","description":"16 GB RAM \/ 512 GB","image_url":null},{"name":"Apple Watch Series 9","description":"RM1899","image_url":null},{"name":"Samsumg Earpod","description":"RM899","image_url":null},{"name":"Free Credit","description":"RM100 ~ RM300","image_url":null},{"name":"Free Credit","description":"RM 30 ~ RM 100","image_url":null},{"name":"Free Credit","description":"RM 10~ RM 30","image_url":null},{"name":"Free Credit","description":"RM 3 ~ RM 10","image_url":null},{"name":"Free Credit","description":"RM 0.5 ~ RM 3.00","image_url":null},{"name":"RM 0","description":null,"image_url":null}];

        if (rewards) {
            let segments = [];
            const segmentColors = ['#ffc982', '#ffa62e', '#f8790a', '#b95c07', '#7c3d05'];

            rewards.forEach((reward, index) => {
                let segment = {};
                const colorIndex = index % segmentColors.length;
                const color = segmentColors[colorIndex];

                segment['fillStyle'] = color;
                segment['textFillStyle'] = '#fff';
                segment['textFontSize'] = '21';
                segment['text'] = `${reward['name']} \n ${reward['description'] ?? ''}`;
                segment['textFontFamily'] = 'InterRegular, sans-serif';

                segments.push(segment);
            });

            theWheel = new Winwheel({
                'numSegments': rewards.length,
                'textMargin': '10',
                'strokeStyle': null,
                'responsive': true,
                'segments': segments,
                'animation': {
                    'type': 'spinToStop',
                    'duration': 2,
                    'spins': rewards.length,
                    'callbackFinished': 'popupReward()'
                },
            });
        }
    }

    function listenForWinnerAddedEvent() {
        const tenantId = "mbi8-my";
        Echo.channel(`tenant_${tenantId}_winners`)
            .listen('.winner.added', (e) => {
                popupWinner(e.winnerDetails);
                pushToWinnerList(e.winnerDetails);
            });
    }

    function setReward() {
        axios.post("https://mariongong.com/mbi8-my/rewards/set", {
            mini_game_id: "2",
            platform: window.Telegram.WebApp.platform,
            continuous_draw: $('input[name="in-a-row"]:checked').val(),
        })
            .then(function(response) {
                if (!response.data.success) {
                    throw new Error(response.data.message);
                }

                responseData = response.data.data;
                const tokenBalance = response.data.data.token_wallet_balance;
                $('.tokens-balance .number').text(tokenBalance);

                spinWheel(response.data.data.segment);
            })
            .catch(function(error) {
                $('#btn-spin').on('click', handleClick);
                console.error(error);

                let message;

                if (error.response) {
                    message = error.response.data.message || 'An error occurred while processing your request.';
                } else {
                    message = error.message;
                }

                showSwal('error', {
                    text: message,
                });
            });
    }

    function spinWheel(segment) {
        theWheel.rotationAngle = 0;
        const randomStopAngle = theWheel.getRandomForSegment(segment);
        theWheel.animation.stopAngle = randomStopAngle;
        theWheel.startAnimation();
    }

    function popupReward() {
        $('#btn-spin').on('click', handleClick);
        
        let allResults = '';
        let hasProductOrOthers = false;
        let hasFreeCredit = false;
        let resultButton = "<button type='button' class='btn custom-btn-primary font-bold btn-collect'  data-bs-dismiss='modal'>Sahkan</button>";

        $('#resultModal .result-row').empty();
        $('#resultModal .result-button-container').empty();

        responseData.rewardDetails.forEach((reward) => {
            if (reward.type === 'free credit') {
                hasFreeCredit = true;
            }

            if (reward.type === 'product' || reward.type === 'others') {
                hasProductOrOthers = true;
            }

            allResults += `
                <div class="col-4 result-col">
                    <div class="font-ibm text-white text-center">
                        <div class="result-item mb-2" data-product-prize="${reward.sequence}">
                            <div class="result-item-wrapper">
                                <img src="${reward.type === 'empty' ? '/assets/images/sad-face.png' : reward.image_url}" alt="${reward.reward}" />
                            </div>
                        </div>
                        <p class="font-bold lh-sm">${reward.reward}</p>
                    </div>
                </div>
            `;
        })

        $('#resultModal .result-row').append(allResults);

        const modalDescription = hasFreeCredit ? "Tahniah! Sila kunjungi halaman promosi di laman web untuk menuntut ganjaran anda." : hasProductOrOthers ? "Sila hubungi khidmat pelanggan untuk mengumpul hadiah anda." : "Jangan kecewa, cuba lagi! Rezeki mungkin belum sampai.";

        $('.result-description-container p').text(modalDescription);

        if(hasProductOrOthers) {
            resultButton = "<a class='btn custom-btn-primary font-bold btn-collect' href='https://mbiwallet.com/chatroom' role='button'>Sahkan</a>";
        }

        if(hasFreeCredit) {
            resultButton = "<a class='btn custom-btn-primary font-bold btn-collect' href='https://mbiwallet.com/promotion' role='button'>Sahkan</a>";
        }

        if(responseData.token_wallet_balance >= 10) {
            resultButton = "<button type='button' class='btn custom-btn-primary font-bold btn-collect'  data-bs-dismiss='modal'>Sahkan</button>";
        }

        $('#resultModal .result-button-container').append(resultButton);

        $('#resultModal').modal('show');
    }

    function pushToWinnerList(winnerDetails) {
        const newWinnerContainer = `
                <div class="winner-container" style="transform: scale(0.5); opacity: 0;">
                    <div class="winner-details">
                        <h5 class="date">${winnerDetails.played_at}</h5>
                        <h5 class="name">${winnerDetails.winner_name}</h5>
                    </div>
                    <div class="reward-details">
                        <h5 class="name">${winnerDetails.reward}</h5>
                    </div>
                </div>
            `;
        const winnerList = $('.winner-list');
        winnerList.prepend(newWinnerContainer);

        gsap.to('.winner-list .winner-container:first-child', {
            autoAlpha: 1,
            scale: 1,
            duration: 0.8,
        });

        if (winnerList.children('.winner-container').length >= 9) {
            winnerList.children('.winner-container').last().remove();
        }
    }

    function popupWinner(winnerDetails) {
        Toastify({
            text: `${winnerDetails.winner_name} just won ${winnerDetails.reward}!`,
            duration: 3000,
            close: false,
            gravity: 'top',
            position: 'right',
            stopOnFocus: false,
            style: {
                background: 'linear-gradient(to right, #EAAF34, #FCE97C)',
                'border-radius': '8px',
                color: '#4d1d09',
            },
        }).showToast();
    }
</script>
<script>
    $(document).ready(function() {
        $('.btn-logout').on('click', function(e) {
            event.preventDefault();

            document.getElementById('logout-form').submit();
        });
    });

</script>


</body></html>